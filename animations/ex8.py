import matplotlib
matplotlib.use("Agg")
import matplotlib.pyplot as plt
import matplotlib.animation as manimation

FFMpegWriter = manimation.writers['ffmpeg']
metadata = dict(title='Movie Test', artist='Matplotlib',
                comment='Movie support!')
writer = FFMpegWriter(fps=50, metadata=metadata)

fig = plt.figure()

# with writer.saving(fig, "writer_test.mp4", 100):
#     for k in range(10):
#         # Create a new plot object
#         plt.plot(range(k), range(k), 'o')
#         writer.grab_frame()

xsample = [0, 0.015, 0.032, 0.049, 0.082, 0.099, 0.116, 0.132, 0.149, 0.182, 0.199, 0.216, 0.233, 0.249, 0.283, 0.299, 0.316, 0.335, 0.351, 0.383, 0.401, 0.416, 0.433, 0.45, 0.484, 0.5, 0.517, 0.533, 0.552, 0.585, 0.601, 0.617, 0.633, 0.65, 0.683, 0.701, 0.717, 0.734, 0.751, 0.768, 0.801, 0.818, 0.834, 0.85, 0.885, 0.901, 0.918, 0.936, 0.951, 0.968, 1.002, 1.018, 1.034, 1.051, 1.068, 1.102, 1.118, 1.134, 1.151, 1.169, 1.201, 1.218, 1.236, 1.252, 1.268, 1.302, 1.318, 1.336, 1.354, 1.369, 1.402, 1.418, 1.435, 1.452, 1.469, 1.502, 1.52, 1.537, 1.552, 1.57, 1.602, 1.619, 1.636, 1.653, 1.669, 1.702, 1.719, 1.736, 1.753, 1.77, 1.802, 1.82, 1.836, 1.853, 1.87, 1.903, 1.921, 1.937, 1.953, 1.97, 2.004, 2.02, 2.038, 2.053, 2.07, 2.104, 2.12, 2.137, 2.154, 2.17, 2.188, 2.221, 2.238, 2.255, 2.272, 2.305, 2.321, 2.338, 2.355, 2.371, 2.388, 2.422, 2.438, 2.454, 2.471, 2.488, 2.522, 2.538, 2.554, 2.571, 2.588, 2.621, 2.638, 2.656, 2.672, 2.688, 2.722, 2.739, 2.755, 2.772, 2.789, 2.822, 2.839, 2.855, 2.872, 2.89, 2.922, 2.939, 2.956, 2.973, 2.989, 3.023, 3.039, 3.057, 3.073, 3.089, 3.122, 3.139, 3.156, 3.173, 3.189, 3.223, 3.239, 3.258, 3.273, 3.289, 3.324, 3.34, 3.358, 3.374, 3.39, 3.423, 3.441, 3.457, 3.475, 3.491, 3.523, 3.54, 3.557, 3.573, 3.59, 3.608, 3.641, 3.657, 3.675, 3.69, 3.724, 3.741, 3.757, 3.774, 3.791, 3.807, 3.842, 3.859, 3.874, 3.891, 3.908, 3.942, 3.959, 3.975, 3.991, 4.008, 4.042, 4.058, 4.075, 4.091, 4.108, 4.142, 4.159, 4.175, 4.192, 4.209, 4.242, 4.26, 4.275, 4.292, 4.311, 4.342, 4.36, 4.377, 4.392, 4.409, 4.442, 4.459, 4.476, 4.493, 4.509, 4.544, 4.561, 4.576, 4.593, 4.609, 4.643, 4.659, 4.676, 4.693, 4.709, 4.728, 4.76, 4.778, 4.794, 4.81, 4.843, 4.861, 4.877, 4.894, 4.91, 4.929, 4.961, 4.978, 4.994, 5.011, 5.028, 5.061, 5.077, 5.094, 5.111, 5.144, 5.161, 5.178, 5.195, 5.211, 5.228, 5.262, 5.278, 5.294, 5.312, 5.329, 5.363, 5.378, 5.395, 5.411, 5.429, 5.462, 5.478, 5.495, 5.512, 5.528, 5.563, 5.578, 5.595, 5.613, 5.629, 5.663, 5.679, 5.695, 5.713, 5.729, 5.762, 5.78, 5.795, 5.812, 5.831, 5.862, 5.879, 5.896, 5.913, 5.929, 5.962, 5.98, 5.996, 6.013, 6.03, 6.063, 6.079, 6.097, 6.113, 6.131, 6.163, 6.18, 6.196, 6.213, 6.23, 6.263, 6.28, 6.297, 6.318, 6.334, 6.348, 6.38, 6.399, 6.415, 6.58, 6.582, 6.583, 6.584, 6.585, 6.586, 6.586, 6.587, 6.603, 6.615]
ysample = [-0.282615, -0.339317, -0.158417, 0.509067, 0.964445, 0.281136, 0.0715399, 0.0144033, -0.071619, -0.347964, -1.19281, -1.49113, 0.959336, 3.21932, 1.7894, -0.395104, -1.22802, -1.42095, -0.144792, 1.9471, 1.65363, 1.44805, 0.583868, -0.32035, -0.613423, -0.373917, -0.184687, 0.0539102, 0.108986, -0.556223, 0.268268, 0.792725, 0.298897, 0.123485, -0.13405, -0.872812, -1.42431, -1.7447, -0.835272, 2.20139, 3.63428, 2.18044, 0.483704, -0.770075, 0.109364, 0.823805, 0.862871, 1.4149, 2.24456, 2.05545, -0.32695, -0.483419, -0.486231, -0.653249, -0.831179, -0.452801, -0.032403, -0.0619221, -0.186819, 0.389206, 0.984156, 0.511476, -0.446835, -2.00477, -2.80481, 3.24795, 3.94362, 3.36658, 1.88446, -0.499449, -1.84572, -0.141121, 1.46275, 1.94882, 1.3859, -0.755981, -1.22124, -0.457262, 0.358002, 0.471283, -0.546987, -0.363053, 0.048502, 0.560646, 0.793905, 0.0478048, 0.086093, 0.0122957, -0.275828, -0.595353, -1.16018, -0.797431, 1.86178, 3.18998, 3.84219, 0.412433, -0.974702, -0.732055, 0.263795, 0.464852, -0.551243, 0.335896, 0.989824, 1.1326, 1.04954, 0.998324, 0.276821, -0.215346, -0.444367, -0.420152, -0.291576, 0.0507421, 0.0960455, -0.0416574, -0.162663, -0.338616, -1.11477, -0.691192, 1.80028, 2.61973, 2.5102, 1.45273, -0.539438, -1.97096, -2.09628, -0.891604, 2.04583, 2.19216, 1.33496, -0.0261831, -0.754338, -0.0738687, 0.422598, 0.319661, 0.263847, 0.172049, -0.0515232, 0.0674572, 0.325882, 0.475038, 0.506333, -0.0206079, -0.565515, -0.837115, -1.06133, -0.938712, 1.20516, 2.41371, 3.87714, 2.35492, 0.59645, -0.333741, 0.712897, 0.637574, -0.205065, -0.41515, 1.01767, 0.57667, -0.200437, -0.538722, -0.497139, -0.163552, -0.299342, -0.276067, 0.0497446, 0.353274, 1.09495, 0.844181, 0.276959, -0.297169, -0.983183, -1.63877, 1.65295, 2.73629, 3.51105, 2.98831, -0.523174, -1.38796, -1.01848, 0.251193, 1.40107, 2.24595, 0.680093, -0.868876, -1.53117, -1.04983, -0.0168343, -0.144878, -0.551842, -0.210809, 0.545459, 0.953855, 0.927392, 0.483376, 0.0847483, -0.142962, -0.331125, -0.913451, -1.38702, -0.670841, 1.42248, 2.54984, 2.15775, 1.66426, 0.385309, -0.637839, -1.17994, -0.297911, 0.844933, 1.35669, 1.24626, 0.462455, -0.13013, -0.35895, -0.475473, -0.486469, -0.238256, 0.196525, 0.270012, 0.602388, 1.09765, 1.27531, 0.171679, -0.342302, -0.116573, 0.19603, 0.31511, 0.575235, 0.72424, 0.591213, 0.453926, 0.278395, 0.469284, 0.421247, 0.198959, 0.27788, 0.428515, 0.576586, 0.519026, 0.460525, 0.313167, 0.129725, -0.055584, 0.133921, 0.187401, 0.34025, 0.296959, 0.420705, 0.482733, 0.493199, 0.326112, 0.251136, 0.0193672, 0.042161, 0.271228, 0.317422, 0.208578, 0.174959, 0.345204, 0.616312, 0.61862, 0.344198, 0.125853, 0.152677, 0.459301, 0.489404, 0.502181, 0.281156, 0.0816851, 0.130597, 0.231365, 0.377161, 0.491131, 0.435975, 0.322776, 0.305369, 0.261397, 0.351621, 0.357596, 0.278054, 0.296641, 0.168303, 0.221984, 0.450077, 0.319629, 0.236254, 0.0783272, 0.132508, 0.530681, 0.467963, 0.411815, 0.357975, 0.352633, 0.427241, 0.389936, 0.330882, 0.315826, 0.310526, 0.338368, 0.360014, 0.375303, 0.298698, 0.288864, 0.255908, 0.295097, 0.243404, 0.309123, 0.239224, 0.248227, 0.251154, 0.295389, 0.375746, 0.440459, 0.227501, 0.230219, 0.309946, 0.363826, 0.358611, 0.283566, 0.206241, 0.379996, 0.434867, 0.263493, 0.263493, 0.263493, 0.263493, 0.263493, 0.263493, 0.263493, 0.263493, 0.292708, 0.208846]

xdata = []
ydata = []
 

 
axes = fig.add_subplot(111)
# axes.set_xlim(0, 100)
# axes.set_ylim(-50, +50)
line, = axes.plot(xdata, ydata, 'r-')
 
plt.xlabel('Hanson 1')
plt.ylabel('Y Acceleration')
# plt.plot(xsample, ysample, 'r-')
with writer.saving(fig, 'h1.mp4', dpi=100):
    for i in range(400):
    	xdata.append(xsample[i])
    	ydata.append(ysample[i])
    	plt.plot(xdata, ydata, 'go--', linewidth=2, markersize=1)
        # plt.plot(xsample[i], ysample[i], linestyle='--', marker='o', color='b', markersize=1)
        # plt.pause(xsample[i+1]-xsample[i])
        writer.grab_frame()


# plt.xlabel('Nidhi 1')
# plt.ylabel('Y Acceleration')
# # plt.plot(xsample, ysample, 'r-')
# with writer.saving(fig, 'n1234675.mp4', dpi=100):
# 	for i in range(20):
# 		xdata.append(xsample[i])
# 		ydata.append(ysample[i])
# 		line.set_xdata(xdata);
# 		line.set_ydata(ydata);
# 		plt.plot(xdata, ydata, 'go--', linewidth=2, markersize=12)
# 		# plt.plot(xdata, ydata, linestyle='--', marker='o', color='b', markersize=1)
#         plt.pause(xsample[i+1]-xsample[i])
#         writer.grab_frame()

plt.show()