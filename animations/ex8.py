import matplotlib
matplotlib.use("Agg")
import matplotlib.pyplot as plt
import matplotlib.animation as manimation

FFMpegWriter = manimation.writers['ffmpeg']
metadata = dict(title='Movie Test', artist='Matplotlib',
                comment='Movie support!')
writer = FFMpegWriter(fps=50, metadata=metadata)

fig = plt.figure()

# with writer.saving(fig, "writer_test.mp4", 100):
#     for k in range(10):
#         # Create a new plot object
#         plt.plot(range(k), range(k), 'o')
#         writer.grab_frame()
xsample = [0, 0.016, 0.05, 0.067, 0.083, 0.1, 0.116, 0.135, 0.167, 0.183, 0.2, 0.218, 0.234, 0.267, 0.284, 0.3, 0.317, 0.335, 0.367, 0.384, 0.401, 0.417, 0.434, 0.467, 0.484, 0.501, 0.518, 0.534, 0.568, 0.585, 0.602, 0.619, 0.634, 0.669, 0.685, 0.702, 0.719, 0.735, 0.768, 0.786, 0.803, 0.818, 0.835, 0.869, 0.885, 0.903, 0.919, 0.935, 0.97, 0.986, 1.002, 1.018, 1.035, 1.069, 1.087, 1.102, 1.119, 1.136, 1.154, 1.186, 1.203, 1.219, 1.236, 1.27, 1.286, 1.302, 1.321, 1.336, 1.353, 1.386, 1.403, 1.42, 1.437, 1.47, 1.486, 1.503, 1.52, 1.537, 1.554, 1.587, 1.603, 1.622, 1.637, 1.655, 1.688, 1.704, 1.721, 1.738, 1.754, 1.788, 1.805, 1.821, 1.837, 1.854, 1.887, 1.905, 1.921, 1.937, 1.954, 1.988, 2.005, 2.022, 2.038, 2.054, 2.089, 2.105, 2.122, 2.138, 2.155, 2.188, 2.205, 2.222, 2.238, 2.255, 2.289, 2.305, 2.322, 2.338, 2.355, 2.39, 2.405, 2.422, 2.439, 2.458, 2.489, 2.506, 2.522, 2.54, 2.555, 2.589, 2.606, 2.624, 2.639, 2.656, 2.673, 2.706, 2.724, 2.74, 2.756, 2.79, 2.806, 2.823, 2.839, 2.856, 2.874, 2.906, 2.924, 2.94, 2.957, 2.973, 3.007, 3.023, 3.041, 3.057, 3.074, 3.107, 3.125, 3.141, 3.157, 3.173, 3.207, 3.226, 3.243, 3.258, 3.275, 3.307, 3.324, 3.341, 3.357, 3.374, 3.407, 3.425, 3.441, 3.458, 3.474, 3.508, 3.526, 3.542, 3.558, 3.575, 3.608, 3.626, 3.641, 3.659, 3.675, 3.708, 3.725, 3.743, 3.76, 3.778, 3.81, 3.826, 3.842, 3.859, 3.875, 3.909, 3.926, 3.942, 3.959, 3.975, 4.009, 4.026, 4.042, 4.06, 4.076, 4.11, 4.126, 4.144, 4.16, 4.176, 4.194, 4.226, 4.243, 4.26, 4.277, 4.31, 4.326, 4.344, 4.36, 4.377, 4.393, 4.427, 4.443, 4.46, 4.477, 4.493, 4.528, 4.545, 4.56, 4.578, 4.594, 4.628, 4.645, 4.661, 4.677, 4.695, 4.727, 4.744, 4.761, 4.778, 4.794, 4.828, 4.844, 4.861, 4.878, 4.894, 4.929, 4.945, 4.963, 4.978, 4.995, 5.028, 5.047, 5.063, 5.079, 5.096, 5.129, 5.146, 5.163, 5.179, 5.195, 5.229, 5.246, 5.262, 5.279, 5.297, 5.329, 5.347, 5.362, 5.379, 5.396, 5.429, 5.446, 5.463, 5.479, 5.496, 5.53, 5.546, 5.563, 5.579, 5.596, 5.631, 5.646, 5.663, 5.68, 5.697, 5.73, 5.746, 5.763, 5.78, 5.797, 5.814, 5.847, 5.863, 5.881, 5.897, 5.915, 5.947, 5.964, 5.981, 5.997, 6.014, 6.047, 6.064, 6.081, 6.097, 6.115, 6.149, 6.164, 6.181, 6.198, 6.214, 6.248, 6.265, 6.281, 6.298, 6.314, 6.349, 6.365, 6.382, 6.398, 6.415, 6.448, 6.465, 6.482, 6.499, 6.515, 6.549, 6.565, 6.583, 6.599, 6.615, 6.649, 6.665, 6.682, 6.699, 6.715, 6.749, 6.766, 6.782, 6.8, 6.816, 6.849, 6.866, 6.883, 6.899, 6.916, 6.95, 6.966, 6.983, 7.003, 7.016, 7.051, 7.066, 7.083, 7.1, 7.117, 7.15, 7.166, 7.184, 7.201, 7.217, 7.233, 7.267, 7.283, 7.301, 7.317, 7.334, 7.368, 7.384, 7.401, 7.417, 7.435, 7.467, 7.484, 7.502]
ysample = [0.891498, 1.34604, 0.755939, -0.650181, -2.6572, -4.12368, -2.76435, 2.84998, 3.11959, 0.550068, 0.41822, 0.877576, 0.857447, -0.102527, 0.276619, 0.85408, 0.683524, 0.0421591, 0.17862, 0.646312, 0.793018, 1.05302, 0.422424, -0.633106, -1.03333, -1.24124, -1.05645, -0.898817, -0.194892, 2.82659, 5.27403, 4.33649, 0.60219, -2.6466, -4.02607, -3.79118, -0.207702, 2.94795, 0.310657, -0.306798, 1.16313, 2.2025, 1.36544, -0.954262, -0.693575, -0.359459, -0.222154, -0.141496, -0.35262, -0.134789, 0.327812, 0.950865, 1.12857, -0.253578, -1.01203, -0.856309, 0.0665712, 1.32196, 1.58029, 0.65136, 2.55415, 2.11058, 0.232927, -0.246388, -0.313894, -0.737223, 0.161974, 1.81943, 2.0036, 0.365275, 0.895064, 1.1485, 0.44035, -1.1278, -1.39064, -0.96246, -0.380325, 0.00949383, 0.0836163, -0.260508, -0.233548, -0.369526, -0.593118, -0.578696, -0.0172081, 0.526964, 1.0741, 0.828721, 0.383528, 1.60643, 3.04967, 2.93163, 2.58859, 1.19458, -3.63121, -5.08133, -2.56622, 1.18119, 2.92055, 1.03263, 1.62049, 2.33181, 1.9775, 1.02492, 0.63386, 0.247755, -0.280689, -0.953316, -1.37506, -0.733788, -0.215734, 0.459108, 0.592761, 0.14833, -1.31494, -1.41559, -0.536957, 0.655656, 0.902977, 0.27245, 3.28667, 3.4305, 2.20618, 1.52286, -0.331018, -0.394924, 0.520625, 0.379835, -0.354276, -0.185386, 0.944779, 1.16289, 0.655487, 0.235803, 0.118931, 0.0737715, -0.0235148, -0.287687, -0.288465, 0.0104208, 0.231884, 0.378019, 0.128075, -0.118548, -0.0786228, -0.267226, -0.793052, -0.782869, -0.52013, -0.299554, 3.77866, 2.96237, 1.71658, -0.0472889, -1.22578, -3.1342, -0.620339, 2.32869, 2.5704, 1.34571, 0.846067, 1.47917, 1.12688, 0.0862045, -0.577675, -0.908514, -0.654066, -0.476087, -0.387114, 0.0620794, 0.711241, 0.814307, 0.842694, 0.8976, 0.439408, -1.03716, -1.04203, -0.0537176, 0.144641, -0.523807, -0.997496, 1.96563, 3.80434, 3.30666, 3.11996, -0.422264, -3.06399, -4.31426, -2.67616, 0.507176, 2.48982, 2.15276, 2.23321, 1.64213, 0.916327, 0.253823, 0.295736, 0.0442266, -0.455317, -0.830893, -0.567983, 0.125241, 0.621612, 0.780308, 0.503205, 0.0673428, -0.454826, -0.758392, -0.334602, 0.119565, -0.344066, -0.242188, 2.95009, 2.13058, 1.16665, -0.929913, -1.97023, -1.94853, -0.681458, 0.951046, 2.13537, 1.44383, 1.252, 1.34977, 1.42179, 1.16299, 0.352947, -0.0365315, -0.169358, -0.133349, -0.367312, -0.938632, -0.814467, -0.452274, -0.143002, -0.0610428, 0.0828333, 0.122417, -0.280129, -0.871227, -1.01021, -0.384098, 0.97803, 3.90384, 3.94015, 1.97868, -0.478296, -0.936496, -0.0589705, 0.649191, 0.279122, -0.451436, 0.807923, 1.62152, 1.70321, 1.42893, 0.457723, 0.12532, 0.110229, -0.085227, -0.234172, -0.314812, 0.0309382, 0.164505, -0.0836229, -0.204402, -0.252329, -0.381583, -0.658918, -1.04859, -1.28247, -1.84998, 1.62881, 7.14888, 7.66408, 2.90555, -3.34699, -3.31662, -2.40249, -1.46615, -0.730389, 0.177846, 1.0533, 1.63945, 1.59456, 1.19984, 0.843777, 0.931932, 0.878549, 0.583464, 0.213512, -0.125235, -0.370441, -0.2517, -0.0179758, 0.236484, 0.291279, 0.485475, 0.790139, 0.897812, 0.838966, 0.777772, 0.352561, -0.0891333, -0.17768, -0.210473, -0.101398, 0.169372, 0.357746, 0.241624, 0.0401964, 0.0104551, 0.10518, 0.149065, 0.250895, 0.378415, 0.45722, 0.0497408, -0.34379, -0.517165, -0.280675, 0.135567, 0.324697, 0.320023, 0.483741, 0.780475, 0.791827, 0.446305, 0.328838, 0.274294, 0.326838, 0.335123, 0.19062, 0.235572, 0.160481, 0.188599, 0.161462, 0.263001, 0.146539, 0.00105095, 0.0316668, 0.00269508, 0.092885, 0.177409, 0.190432, 0.296879, 0.281946, 0.2893, 0.339653, 0.385284, 0.395687, 0.577543, 0.528053, 0.486356, 0.36162, 0.410082, 0.3808, 0.357744, 0.270934, 0.246459, 0.267136, 0.22969, 0.206699, 0.062273, -0.0168648, 0.118068, 0.270763, 0.273374, 0.443092, 0.409333, 0.422004, 0.354234, 0.250248, 0.255975, 0.240746, 0.22782]

xdata = []
ydata = []
 

 
axes = fig.add_subplot(111)
# axes.set_xlim(0, 100)
# axes.set_ylim(-50, +50)
line, = axes.plot(xdata, ydata, 'r-')
 
plt.xlabel('Nidhi 2')
plt.ylabel('Y Acceleration')
# plt.plot(xsample, ysample, 'r-')
with writer.saving(fig, 'n2.mp4', dpi=100):
    for i in range(400):
    	xdata.append(xsample[i])
    	ydata.append(ysample[i])
    	plt.plot(xdata, ydata, 'go--', linewidth=2, markersize=1)
        # plt.plot(xsample[i], ysample[i], linestyle='--', marker='o', color='b', markersize=1)
        # plt.pause(xsample[i+1]-xsample[i])
        writer.grab_frame()


# plt.xlabel('Nidhi 1')
# plt.ylabel('Y Acceleration')
# # plt.plot(xsample, ysample, 'r-')
# with writer.saving(fig, 'n1234675.mp4', dpi=100):
# 	for i in range(20):
# 		xdata.append(xsample[i])
# 		ydata.append(ysample[i])
# 		line.set_xdata(xdata);
# 		line.set_ydata(ydata);
# 		plt.plot(xdata, ydata, 'go--', linewidth=2, markersize=12)
# 		# plt.plot(xdata, ydata, linestyle='--', marker='o', color='b', markersize=1)
#         plt.pause(xsample[i+1]-xsample[i])
#         writer.grab_frame()

plt.show()