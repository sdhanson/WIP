import matplotlib
matplotlib.use("Agg")
import matplotlib.pyplot as plt
import matplotlib.animation as manimation

FFMpegWriter = manimation.writers['ffmpeg']
metadata = dict(title='Movie Test', artist='Matplotlib',
                comment='Movie support!')
writer = FFMpegWriter(fps=15, metadata=metadata)

fig = plt.figure()

# with writer.saving(fig, "writer_test.mp4", 100):
#     for k in range(10):
#         # Create a new plot object
#         plt.plot(range(k), range(k), 'o')
#         writer.grab_frame()


ysample = [0.086133, 0.234813, 0.341518, 0.294219, 0.288239, 0.309554, 0.36133, 0.503148, 0.343402, 0.0834789, 0.154524, 0.318343, 0.334108, 0.217682, 0.196217, 0.257782, 0.227229, 0.245671, 0.361008, 0.428794, 0.332801, 0.229642, 0.318429, 0.442623, 0.432076, 0.298462, 0.173468, 0.267503, 0.475703, 0.309018, 0.175302, 0.102381, 0.379675, 0.444945, 0.189767, 0.510344, 0.915949, 0.00481224, -0.123769, 0.674282, 0.359357, 0.0948677, 0.17246, 0.322299, 0.223025, 0.329796, 0.318973, 0.325633, 0.170574, 0.176264, 0.222734, 0.367153, 0.40048, 0.344066, 0.307179, 0.293356, 0.28114, 0.198184, 0.221112, 0.362489, 0.435663, 0.310791, 0.194763, 0.161419, 0.345098, 0.472137, 0.448664, 0.434043, 0.32663, 0.284917, 0.373706, 0.328558, 0.201507, 0.0768442, 0.366766, 0.414766, 0.358139, 0.263089, 0.268034, 0.450241, 0.497622, 0.35459, 0.252441, 0.113661, 0.330858, 0.249114, 0.339542, 0.307713, 0.283407, 0.352434, 0.30897, 0.400984, 0.31637, 0.327609, 0.287297, 0.465887, 0.545636, 0.399637, 0.28293, 0.319439, 0.195538, -0.024169, 0.325627, 0.52609, 0.670221, 0.645903, 0.698497, 0.444384, 0.258624, 0.431906, 0.298536, 0.104884, 0.0650577, -0.0675297, -0.323037, -0.112039, 0.139697, 0.11978, -0.204185, 0.640476, 0.757812, 0.222936, -0.251063, -0.129988, 1.46901, 1.12936, 0.669981, 1.05356, 1.32103, 0.963847, 0.398468, 0.101372, -0.0751629, -0.174347, -0.0708332, -0.110185, -0.0116816, 0.106606, 0.152911, 0.136354, 0.20939, -0.0533457, -0.576534, -1.24178, -1.08445, 2.57443, 1.33444, 0.281831, 0.818423, 1.95262, 0.431853, 0.633406, 1.13983, 0.94482, 0.160892, -0.0854483, -0.250223, 0.0948257, 0.263449, 0.0613909, 0.150659, 0.18895, -0.0848971, -0.332087, -0.230525, -0.174871, -0.123464, 0.142597, 0.472759, 0.387371, -0.909397, -0.884087, 0.688515, 2.09834, 1.76721, 1.93963, 1.484, -0.266932, -0.941323, -0.251068, 0.194464, -0.206428, 0.0724516, 0.705633, 0.884112, 0.328752, 0.1034, -0.00615311, -0.209834, -0.250267, -0.093009, -0.0284596, -0.149504, -0.0272465, 0.140919, 0.331458, -0.0191727, -0.547206, -1.34004, -1.13956, 1.24993, 3.71648, 0.234699, -0.413847, 0.645816, 0.48996, 0.85539, 1.08858, 0.47271, -0.0118484, 0.20513, -0.0546751, -0.00917911, -0.180184, -0.288765, -0.160127, -0.209954, -0.148373, 0.0465784, 0.441694, 0.629876, 0.18884, -0.0098629, -0.18664, -0.341605, -0.666328, 1.63152, 1.30633, 0.952225, 1.68491, 1.69183, -0.350506, -0.679637, 0.498573, 1.11221, -0.00690079, -0.255132, 0.699369, 1.02123, 0.613156, 0.312179, 0.244135, 0.184545, -0.202876, -0.422195, -0.116283, 0.119154, -0.00273132, -0.0716524, -0.208025, -0.301596, -0.6048, 1.97862, 1.58631, 1.34146, 2.14421, 0.674851, -0.704438, -0.9378, -0.559853, -0.104186, -0.0272303, 0.470706, 0.865375, 0.826372, 0.661898, 0.118871, 0.195165, 0.064517, -0.319456, -0.548189, -0.323838, 0.422674, 0.549528, 0.512175, 0.323739, 0.0114498, -0.381433, -0.628452, -0.662792, 0.415665, 1.70112, 1.87477, 1.66772, 0.593122, -0.202742, -0.500374, 0.559255, 0.47304, -0.299201, -0.428099, 0.516337, 1.1396, 0.392107, 0.0325441, 0.0313101, 0.101643, -0.250533, -0.206454, -0.215114, 0.00419807, 0.277761, 0.335338, 0.33769, 0.0716782, -0.433918, -0.900184, 0.644381, 2.1255, 0.813129, 0.712236, 1.61156, 0.742232, 0.108366, 0.187049, 0.267739, 0.0777454, 0.399053, 1.22705, 1.22651, 0.686736, 0.244229, -0.387138, -0.459222, -0.489227, -0.24872, 0.209767, 0.343847, 0.206063, 0.102789, -0.164513, -0.567453, -0.76532, -0.76772, 0.261137, 1.93002, 1.96331, 1.90233, 2.32219, 1.02155, -0.121238, -0.371732, 0.365101, -0.076396, -0.664003, -0.0281563, 0.430082, 0.378138, 0.24056, 0.280732, 0.0284567, -0.0309238, -0.103873, -0.159502, -0.165709, -0.197824, -0.250282, -0.208053, 0.293772, 0.135192, -0.0914879, -0.0304022, 1.31126, 1.27189, 1.2912, 1.02372, -0.127227, -1.10156, 0.0448675, 0.462915, 0.438329, 0.610532, 1.09525, 1.30875, 0.67308, 0.396665, 0.226546, -0.069931, -0.074029, -0.271543, -0.54886, -0.515904, -0.0524902, 0.299175, -0.119012, -0.392518, -0.525697, -0.793745, 1.52457, 2.32969, 0.851231, 0.785541, 1.66399, 1.80402, 0.0148926, -0.35515, -0.232022, 0.025795, -0.208104, -0.422208, -0.356667, 0.0481644, 0.65799, 0.714386, 0.289156, 0.192495, 0.0962038, 0.00507832, 0.548399, 1.16477, 1.0466, 1.02699, 0.87856, 0.589193, -0.0854073, -0.210533, -0.343307, -0.429694, -0.327381, 0.0280781, 0.251034, 0.516478, 0.682784, 0.761602, 0.597846, 0.523666, 0.435055, 0.14545, -0.0414648, -0.0388746, 0.113081, 0.362923, 0.59793, 0.716883, 0.259416, 0.249018, 0.291783]
xsample = [0, 0.028, 0.047, 0.059, 0.088, 0.106, 0.122, 0.139, 0.174, 0.189, 0.205, 0.222, 0.239, 0.272, 0.29, 0.305, 0.322, 0.34, 0.373, 0.39, 0.406, 0.423, 0.439, 0.473, 0.489, 0.506, 0.524, 0.54, 0.573, 0.59, 0.606, 0.623, 0.64, 0.673, 0.69, 0.707, 0.723, 0.74, 0.758, 0.79, 0.807, 0.823, 0.84, 0.875, 0.89, 0.907, 0.927, 0.941, 0.974, 0.991, 1.008, 1.024, 1.043, 1.074, 1.091, 1.109, 1.124, 1.141, 1.159, 1.191, 1.208, 1.224, 1.241, 1.258, 1.292, 1.308, 1.325, 1.342, 1.358, 1.392, 1.41, 1.425, 1.442, 1.459, 1.492, 1.509, 1.525, 1.542, 1.558, 1.592, 1.609, 1.626, 1.642, 1.659, 1.694, 1.709, 1.726, 1.743, 1.76, 1.793, 1.81, 1.826, 1.843, 1.859, 1.894, 1.909, 1.927, 1.943, 1.96, 1.993, 2.01, 2.026, 2.045, 2.06, 2.093, 2.11, 2.126, 2.144, 2.16, 2.194, 2.21, 2.228, 2.244, 2.261, 2.278, 2.311, 2.328, 2.344, 2.361, 2.394, 2.411, 2.428, 2.445, 2.462, 2.494, 2.511, 2.528, 2.544, 2.561, 2.579, 2.611, 2.628, 2.645, 2.661, 2.678, 2.712, 2.728, 2.745, 2.762, 2.778, 2.812, 2.828, 2.846, 2.862, 2.878, 2.913, 2.93, 2.945, 2.962, 2.98, 3.013, 3.029, 3.047, 3.062, 3.079, 3.113, 3.129, 3.146, 3.162, 3.179, 3.213, 3.229, 3.246, 3.263, 3.28, 3.313, 3.329, 3.346, 3.363, 3.381, 3.413, 3.43, 3.446, 3.463, 3.48, 3.497, 3.53, 3.547, 3.563, 3.58, 3.613, 3.631, 3.647, 3.664, 3.681, 3.714, 3.73, 3.747, 3.764, 3.781, 3.798, 3.831, 3.848, 3.865, 3.883, 3.898, 3.931, 3.948, 3.965, 3.981, 3.998, 4.031, 4.049, 4.065, 4.082, 4.099, 4.132, 4.148, 4.165, 4.181, 4.199, 4.232, 4.249, 4.266, 4.282, 4.298, 4.332, 4.348, 4.365, 4.382, 4.399, 4.432, 4.45, 4.466, 4.482, 4.499, 4.533, 4.549, 4.566, 4.582, 4.599, 4.633, 4.649, 4.667, 4.684, 4.7, 4.733, 4.751, 4.766, 4.784, 4.801, 4.833, 4.849, 4.866, 4.883, 4.9, 4.933, 4.95, 4.967, 4.984, 5, 5.018, 5.052, 5.067, 5.084, 5.101, 5.135, 5.151, 5.167, 5.184, 5.201, 5.234, 5.251, 5.268, 5.284, 5.301, 5.335, 5.351, 5.369, 5.384, 5.401, 5.418, 5.453, 5.468, 5.485, 5.501, 5.518, 5.552, 5.569, 5.585, 5.602, 5.618, 5.652, 5.668, 5.685, 5.702, 5.719, 5.752, 5.769, 5.785, 5.802, 5.82, 5.852, 5.869, 5.885, 5.902, 5.919, 5.953, 5.969, 5.986, 6.004, 6.019, 6.054, 6.069, 6.086, 6.103, 6.119, 6.153, 6.17, 6.186, 6.204, 6.221, 6.254, 6.27, 6.286, 6.304, 6.32, 6.354, 6.37, 6.388, 6.404, 6.421, 6.454, 6.47, 6.487, 6.504, 6.52, 6.554, 6.572, 6.587, 6.604, 6.621, 6.638, 6.671, 6.687, 6.704, 6.724, 6.738, 6.772, 6.788, 6.804, 6.821, 6.838, 6.872, 6.888, 6.905, 6.921, 6.939, 6.973, 6.99, 7.005, 7.022, 7.039, 7.072, 7.089, 7.105, 7.122, 7.138, 7.172, 7.189, 7.205, 7.222, 7.24, 7.273, 7.289, 7.305, 7.323, 7.339, 7.372, 7.389, 7.406, 7.422, 7.441, 7.474, 7.489, 7.506, 7.524, 7.539, 7.573, 7.589, 7.606, 7.623, 7.64, 7.674, 7.691, 7.708, 7.723, 7.741, 7.773, 7.79, 7.807, 7.824, 7.84, 7.858, 7.891, 7.908, 7.925, 7.941, 7.974, 7.992, 8.007, 8.024, 8.041, 8.059, 8.092, 8.108, 8.124, 8.141, 8.175, 8.192, 8.209, 8.225, 8.241, 8.258, 8.292, 8.308, 8.325, 8.342, 8.358, 8.392, 8.409, 8.426, 8.442, 8.46, 8.492, 8.509, 8.525, 8.542, 8.559, 8.592, 8.609, 8.625, 8.643, 8.659, 8.692, 8.709, 8.726]

xdata = []
ydata = []
 
plt.show()
 
axes = plt.gca()
# axes.set_xlim(0, 100)
# axes.set_ylim(-50, +50)
line, = axes.plot(xdata, ydata, 'r-')
 
plt.xlabel('Nidhi 1')
plt.ylabel('Y Acceleration')
plt.plot(xsample, ysample, 'r-')
with writer.saving(fig, 'plot_nidhi1.mp4', dpi=100):
    for i in range(450):
        plt.plot(xsample[i], ysample[i], linestyle='--', marker='o', color='b', markersize=1)
        plt.pause(xsample[i+1]-xsample[i])
        writer.grab_frame()